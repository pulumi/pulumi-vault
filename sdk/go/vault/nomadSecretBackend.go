// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package vault

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-vault/sdk/v7/go/vault/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates a Nomad Secret Backend for Vault. The Nomad secret backend for Vault
// generates Nomad ACL tokens dynamically based on pre-existing Nomad ACL policies.
//
// > **Important** All data provided in the resource configuration will be
// written in cleartext to state and plan files generated by Terraform, and
// will appear in the console output when Terraform runs. Protect these
// artifacts accordingly. See
// the main provider documentation
// for more details.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-vault/sdk/v7/go/vault"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := vault.NewNomadSecretBackend(ctx, "config", &vault.NomadSecretBackendArgs{
//				Backend:                pulumi.String("nomad"),
//				Description:            pulumi.String("test description"),
//				DefaultLeaseTtlSeconds: pulumi.Int(3600),
//				MaxLeaseTtlSeconds:     pulumi.Int(7200),
//				MaxTtl:                 pulumi.Int(240),
//				Address:                pulumi.String("https://127.0.0.1:4646"),
//				Token:                  pulumi.String("ae20ceaa-..."),
//				Ttl:                    pulumi.Int(120),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Ephemeral Attributes Reference
//
// The following write-only attributes are supported:
//
// * `clientKeyWo` - (Optional) Write-only client certificate key to provide to the Nomad server, must be x509 PEM encoded.
// Use this for enhanced security when you don't want the client key to appear in state files. Requires `clientKeyWoVersion`. Conflicts with `clientKey`.
// **Note**: This property is write-only and will not be read from the API.
//
// * `tokenWo` - (Optional) Write-only Nomad Management token to use.
// Use this for enhanced security when you don't want the token to appear in state files. Requires `tokenWoVersion`. Conflicts with `token`.
// **Note**: This property is write-only and will not be read from the API.
//
// ## Import
//
// Nomad secret backend can be imported using the `backend`, e.g.
//
// ```sh
// $ pulumi import vault:index/nomadSecretBackend:NomadSecretBackend nomad nomad
// ```
type NomadSecretBackend struct {
	pulumi.CustomResourceState

	// Accessor of the mount
	Accessor pulumi.StringOutput `pulumi:"accessor"`
	// Specifies the address of the Nomad instance, provided
	// as "protocol://host:port" like "http://127.0.0.1:4646".
	Address pulumi.StringPtrOutput `pulumi:"address"`
	// List of managed key registry entry names that the mount in question is allowed to access
	AllowedManagedKeys pulumi.StringArrayOutput `pulumi:"allowedManagedKeys"`
	// List of headers to allow and pass from the request to the plugin
	AllowedResponseHeaders pulumi.StringArrayOutput `pulumi:"allowedResponseHeaders"`
	// Specifies the list of keys that will not be HMAC'd by audit devices in the request data object.
	AuditNonHmacRequestKeys pulumi.StringArrayOutput `pulumi:"auditNonHmacRequestKeys"`
	// Specifies the list of keys that will not be HMAC'd by audit devices in the response data object.
	AuditNonHmacResponseKeys pulumi.StringArrayOutput `pulumi:"auditNonHmacResponseKeys"`
	// The unique path this backend should be mounted at. Must
	// not begin or end with a `/`. Defaults to `nomad`.
	Backend pulumi.StringPtrOutput `pulumi:"backend"`
	// CA certificate to use when verifying the Nomad server certificate, must be
	// x509 PEM encoded.
	CaCert pulumi.StringPtrOutput `pulumi:"caCert"`
	// Client certificate to provide to the Nomad server, must be x509 PEM encoded.
	ClientCert pulumi.StringPtrOutput `pulumi:"clientCert"`
	// Client certificate key to provide to the Nomad server, must be x509 PEM encoded.
	// Conflicts with `clientKeyWo`.
	ClientKey pulumi.StringPtrOutput `pulumi:"clientKey"`
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only client key used for Nomad's TLS communication, must be x509 PEM encoded and if this is set you need to also set client_cert.
	ClientKeyWo pulumi.StringPtrOutput `pulumi:"clientKeyWo"`
	// Version counter for the write-only client key. This must be incremented
	// each time the `clientKeyWo` value is changed to trigger an update. Required when using `clientKeyWo`.
	ClientKeyWoVersion pulumi.IntPtrOutput `pulumi:"clientKeyWoVersion"`
	// Default lease duration for secrets in seconds.
	DefaultLeaseTtlSeconds pulumi.IntOutput `pulumi:"defaultLeaseTtlSeconds"`
	// List of headers to allow and pass from the request to the plugin
	DelegatedAuthAccessors pulumi.StringArrayOutput `pulumi:"delegatedAuthAccessors"`
	// Human-friendly description of the mount for the backend.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// If set, opts out of mount migration on path updates.
	// See here for more info on [Mount Migration](https://www.vaultproject.io/docs/concepts/mount-migration)
	DisableRemount pulumi.BoolPtrOutput `pulumi:"disableRemount"`
	// Enable the secrets engine to access Vault's external entropy source
	ExternalEntropyAccess pulumi.BoolPtrOutput `pulumi:"externalEntropyAccess"`
	// If set to true, disables caching.
	ForceNoCache pulumi.BoolOutput `pulumi:"forceNoCache"`
	// The key to use for signing plugin workload identity tokens
	IdentityTokenKey pulumi.StringPtrOutput `pulumi:"identityTokenKey"`
	// Specifies whether to show this mount in the UI-specific listing endpoint
	ListingVisibility pulumi.StringPtrOutput `pulumi:"listingVisibility"`
	// Mark the secrets engine as local-only. Local engines are not replicated or removed by replication. Tolerance duration to use when checking the last rotation time.
	Local pulumi.BoolPtrOutput `pulumi:"local"`
	// Maximum possible lease duration for secrets in seconds.
	MaxLeaseTtlSeconds pulumi.IntOutput `pulumi:"maxLeaseTtlSeconds"`
	// Specifies the maximum length to use for the name of the Nomad token
	// generated with Generate Credential. If omitted, 0 is used and ignored, defaulting to the max value allowed
	// by the Nomad version.
	MaxTokenNameLength pulumi.IntOutput `pulumi:"maxTokenNameLength"`
	// Maximum possible lease duration for secrets in seconds.
	MaxTtl pulumi.IntOutput `pulumi:"maxTtl"`
	// The namespace to provision the resource in.
	// The value should not contain leading or trailing forward slashes.
	// The `namespace` is always relative to the provider's configured [namespace](https://www.terraform.io/docs/providers/vault/index.html#namespace).
	// *Available only for Vault Enterprise*.
	Namespace pulumi.StringPtrOutput `pulumi:"namespace"`
	// Specifies mount type specific options that are passed to the backend
	Options pulumi.StringMapOutput `pulumi:"options"`
	// List of headers to allow and pass from the request to the plugin
	PassthroughRequestHeaders pulumi.StringArrayOutput `pulumi:"passthroughRequestHeaders"`
	// Specifies the semantic version of the plugin to use, e.g. 'v1.0.0'
	PluginVersion pulumi.StringPtrOutput `pulumi:"pluginVersion"`
	// Enable seal wrapping for the mount, causing values stored by the mount to be wrapped by the seal's encryption capability
	SealWrap pulumi.BoolOutput `pulumi:"sealWrap"`
	// Specifies the Nomad Management token to use. Conflicts with `tokenWo`.
	Token pulumi.StringPtrOutput `pulumi:"token"`
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only Nomad Management token to use.
	TokenWo pulumi.StringPtrOutput `pulumi:"tokenWo"`
	// Version counter for the write-only token. This must be incremented each time
	// the `tokenWo` value is changed to trigger an update. Required when using `tokenWo`.
	TokenWoVersion pulumi.IntPtrOutput `pulumi:"tokenWoVersion"`
	// Specifies the ttl of the lease for the generated token.
	Ttl pulumi.IntOutput `pulumi:"ttl"`
}

// NewNomadSecretBackend registers a new resource with the given unique name, arguments, and options.
func NewNomadSecretBackend(ctx *pulumi.Context,
	name string, args *NomadSecretBackendArgs, opts ...pulumi.ResourceOption) (*NomadSecretBackend, error) {
	if args == nil {
		args = &NomadSecretBackendArgs{}
	}

	if args.ClientCert != nil {
		args.ClientCert = pulumi.ToSecret(args.ClientCert).(pulumi.StringPtrInput)
	}
	if args.ClientKey != nil {
		args.ClientKey = pulumi.ToSecret(args.ClientKey).(pulumi.StringPtrInput)
	}
	if args.ClientKeyWo != nil {
		args.ClientKeyWo = pulumi.ToSecret(args.ClientKeyWo).(pulumi.StringPtrInput)
	}
	if args.Token != nil {
		args.Token = pulumi.ToSecret(args.Token).(pulumi.StringPtrInput)
	}
	if args.TokenWo != nil {
		args.TokenWo = pulumi.ToSecret(args.TokenWo).(pulumi.StringPtrInput)
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"clientCert",
		"clientKey",
		"clientKeyWo",
		"token",
		"tokenWo",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource NomadSecretBackend
	err := ctx.RegisterResource("vault:index/nomadSecretBackend:NomadSecretBackend", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetNomadSecretBackend gets an existing NomadSecretBackend resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetNomadSecretBackend(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *NomadSecretBackendState, opts ...pulumi.ResourceOption) (*NomadSecretBackend, error) {
	var resource NomadSecretBackend
	err := ctx.ReadResource("vault:index/nomadSecretBackend:NomadSecretBackend", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering NomadSecretBackend resources.
type nomadSecretBackendState struct {
	// Accessor of the mount
	Accessor *string `pulumi:"accessor"`
	// Specifies the address of the Nomad instance, provided
	// as "protocol://host:port" like "http://127.0.0.1:4646".
	Address *string `pulumi:"address"`
	// List of managed key registry entry names that the mount in question is allowed to access
	AllowedManagedKeys []string `pulumi:"allowedManagedKeys"`
	// List of headers to allow and pass from the request to the plugin
	AllowedResponseHeaders []string `pulumi:"allowedResponseHeaders"`
	// Specifies the list of keys that will not be HMAC'd by audit devices in the request data object.
	AuditNonHmacRequestKeys []string `pulumi:"auditNonHmacRequestKeys"`
	// Specifies the list of keys that will not be HMAC'd by audit devices in the response data object.
	AuditNonHmacResponseKeys []string `pulumi:"auditNonHmacResponseKeys"`
	// The unique path this backend should be mounted at. Must
	// not begin or end with a `/`. Defaults to `nomad`.
	Backend *string `pulumi:"backend"`
	// CA certificate to use when verifying the Nomad server certificate, must be
	// x509 PEM encoded.
	CaCert *string `pulumi:"caCert"`
	// Client certificate to provide to the Nomad server, must be x509 PEM encoded.
	ClientCert *string `pulumi:"clientCert"`
	// Client certificate key to provide to the Nomad server, must be x509 PEM encoded.
	// Conflicts with `clientKeyWo`.
	ClientKey *string `pulumi:"clientKey"`
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only client key used for Nomad's TLS communication, must be x509 PEM encoded and if this is set you need to also set client_cert.
	ClientKeyWo *string `pulumi:"clientKeyWo"`
	// Version counter for the write-only client key. This must be incremented
	// each time the `clientKeyWo` value is changed to trigger an update. Required when using `clientKeyWo`.
	ClientKeyWoVersion *int `pulumi:"clientKeyWoVersion"`
	// Default lease duration for secrets in seconds.
	DefaultLeaseTtlSeconds *int `pulumi:"defaultLeaseTtlSeconds"`
	// List of headers to allow and pass from the request to the plugin
	DelegatedAuthAccessors []string `pulumi:"delegatedAuthAccessors"`
	// Human-friendly description of the mount for the backend.
	Description *string `pulumi:"description"`
	// If set, opts out of mount migration on path updates.
	// See here for more info on [Mount Migration](https://www.vaultproject.io/docs/concepts/mount-migration)
	DisableRemount *bool `pulumi:"disableRemount"`
	// Enable the secrets engine to access Vault's external entropy source
	ExternalEntropyAccess *bool `pulumi:"externalEntropyAccess"`
	// If set to true, disables caching.
	ForceNoCache *bool `pulumi:"forceNoCache"`
	// The key to use for signing plugin workload identity tokens
	IdentityTokenKey *string `pulumi:"identityTokenKey"`
	// Specifies whether to show this mount in the UI-specific listing endpoint
	ListingVisibility *string `pulumi:"listingVisibility"`
	// Mark the secrets engine as local-only. Local engines are not replicated or removed by replication. Tolerance duration to use when checking the last rotation time.
	Local *bool `pulumi:"local"`
	// Maximum possible lease duration for secrets in seconds.
	MaxLeaseTtlSeconds *int `pulumi:"maxLeaseTtlSeconds"`
	// Specifies the maximum length to use for the name of the Nomad token
	// generated with Generate Credential. If omitted, 0 is used and ignored, defaulting to the max value allowed
	// by the Nomad version.
	MaxTokenNameLength *int `pulumi:"maxTokenNameLength"`
	// Maximum possible lease duration for secrets in seconds.
	MaxTtl *int `pulumi:"maxTtl"`
	// The namespace to provision the resource in.
	// The value should not contain leading or trailing forward slashes.
	// The `namespace` is always relative to the provider's configured [namespace](https://www.terraform.io/docs/providers/vault/index.html#namespace).
	// *Available only for Vault Enterprise*.
	Namespace *string `pulumi:"namespace"`
	// Specifies mount type specific options that are passed to the backend
	Options map[string]string `pulumi:"options"`
	// List of headers to allow and pass from the request to the plugin
	PassthroughRequestHeaders []string `pulumi:"passthroughRequestHeaders"`
	// Specifies the semantic version of the plugin to use, e.g. 'v1.0.0'
	PluginVersion *string `pulumi:"pluginVersion"`
	// Enable seal wrapping for the mount, causing values stored by the mount to be wrapped by the seal's encryption capability
	SealWrap *bool `pulumi:"sealWrap"`
	// Specifies the Nomad Management token to use. Conflicts with `tokenWo`.
	Token *string `pulumi:"token"`
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only Nomad Management token to use.
	TokenWo *string `pulumi:"tokenWo"`
	// Version counter for the write-only token. This must be incremented each time
	// the `tokenWo` value is changed to trigger an update. Required when using `tokenWo`.
	TokenWoVersion *int `pulumi:"tokenWoVersion"`
	// Specifies the ttl of the lease for the generated token.
	Ttl *int `pulumi:"ttl"`
}

type NomadSecretBackendState struct {
	// Accessor of the mount
	Accessor pulumi.StringPtrInput
	// Specifies the address of the Nomad instance, provided
	// as "protocol://host:port" like "http://127.0.0.1:4646".
	Address pulumi.StringPtrInput
	// List of managed key registry entry names that the mount in question is allowed to access
	AllowedManagedKeys pulumi.StringArrayInput
	// List of headers to allow and pass from the request to the plugin
	AllowedResponseHeaders pulumi.StringArrayInput
	// Specifies the list of keys that will not be HMAC'd by audit devices in the request data object.
	AuditNonHmacRequestKeys pulumi.StringArrayInput
	// Specifies the list of keys that will not be HMAC'd by audit devices in the response data object.
	AuditNonHmacResponseKeys pulumi.StringArrayInput
	// The unique path this backend should be mounted at. Must
	// not begin or end with a `/`. Defaults to `nomad`.
	Backend pulumi.StringPtrInput
	// CA certificate to use when verifying the Nomad server certificate, must be
	// x509 PEM encoded.
	CaCert pulumi.StringPtrInput
	// Client certificate to provide to the Nomad server, must be x509 PEM encoded.
	ClientCert pulumi.StringPtrInput
	// Client certificate key to provide to the Nomad server, must be x509 PEM encoded.
	// Conflicts with `clientKeyWo`.
	ClientKey pulumi.StringPtrInput
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only client key used for Nomad's TLS communication, must be x509 PEM encoded and if this is set you need to also set client_cert.
	ClientKeyWo pulumi.StringPtrInput
	// Version counter for the write-only client key. This must be incremented
	// each time the `clientKeyWo` value is changed to trigger an update. Required when using `clientKeyWo`.
	ClientKeyWoVersion pulumi.IntPtrInput
	// Default lease duration for secrets in seconds.
	DefaultLeaseTtlSeconds pulumi.IntPtrInput
	// List of headers to allow and pass from the request to the plugin
	DelegatedAuthAccessors pulumi.StringArrayInput
	// Human-friendly description of the mount for the backend.
	Description pulumi.StringPtrInput
	// If set, opts out of mount migration on path updates.
	// See here for more info on [Mount Migration](https://www.vaultproject.io/docs/concepts/mount-migration)
	DisableRemount pulumi.BoolPtrInput
	// Enable the secrets engine to access Vault's external entropy source
	ExternalEntropyAccess pulumi.BoolPtrInput
	// If set to true, disables caching.
	ForceNoCache pulumi.BoolPtrInput
	// The key to use for signing plugin workload identity tokens
	IdentityTokenKey pulumi.StringPtrInput
	// Specifies whether to show this mount in the UI-specific listing endpoint
	ListingVisibility pulumi.StringPtrInput
	// Mark the secrets engine as local-only. Local engines are not replicated or removed by replication. Tolerance duration to use when checking the last rotation time.
	Local pulumi.BoolPtrInput
	// Maximum possible lease duration for secrets in seconds.
	MaxLeaseTtlSeconds pulumi.IntPtrInput
	// Specifies the maximum length to use for the name of the Nomad token
	// generated with Generate Credential. If omitted, 0 is used and ignored, defaulting to the max value allowed
	// by the Nomad version.
	MaxTokenNameLength pulumi.IntPtrInput
	// Maximum possible lease duration for secrets in seconds.
	MaxTtl pulumi.IntPtrInput
	// The namespace to provision the resource in.
	// The value should not contain leading or trailing forward slashes.
	// The `namespace` is always relative to the provider's configured [namespace](https://www.terraform.io/docs/providers/vault/index.html#namespace).
	// *Available only for Vault Enterprise*.
	Namespace pulumi.StringPtrInput
	// Specifies mount type specific options that are passed to the backend
	Options pulumi.StringMapInput
	// List of headers to allow and pass from the request to the plugin
	PassthroughRequestHeaders pulumi.StringArrayInput
	// Specifies the semantic version of the plugin to use, e.g. 'v1.0.0'
	PluginVersion pulumi.StringPtrInput
	// Enable seal wrapping for the mount, causing values stored by the mount to be wrapped by the seal's encryption capability
	SealWrap pulumi.BoolPtrInput
	// Specifies the Nomad Management token to use. Conflicts with `tokenWo`.
	Token pulumi.StringPtrInput
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only Nomad Management token to use.
	TokenWo pulumi.StringPtrInput
	// Version counter for the write-only token. This must be incremented each time
	// the `tokenWo` value is changed to trigger an update. Required when using `tokenWo`.
	TokenWoVersion pulumi.IntPtrInput
	// Specifies the ttl of the lease for the generated token.
	Ttl pulumi.IntPtrInput
}

func (NomadSecretBackendState) ElementType() reflect.Type {
	return reflect.TypeOf((*nomadSecretBackendState)(nil)).Elem()
}

type nomadSecretBackendArgs struct {
	// Specifies the address of the Nomad instance, provided
	// as "protocol://host:port" like "http://127.0.0.1:4646".
	Address *string `pulumi:"address"`
	// List of managed key registry entry names that the mount in question is allowed to access
	AllowedManagedKeys []string `pulumi:"allowedManagedKeys"`
	// List of headers to allow and pass from the request to the plugin
	AllowedResponseHeaders []string `pulumi:"allowedResponseHeaders"`
	// Specifies the list of keys that will not be HMAC'd by audit devices in the request data object.
	AuditNonHmacRequestKeys []string `pulumi:"auditNonHmacRequestKeys"`
	// Specifies the list of keys that will not be HMAC'd by audit devices in the response data object.
	AuditNonHmacResponseKeys []string `pulumi:"auditNonHmacResponseKeys"`
	// The unique path this backend should be mounted at. Must
	// not begin or end with a `/`. Defaults to `nomad`.
	Backend *string `pulumi:"backend"`
	// CA certificate to use when verifying the Nomad server certificate, must be
	// x509 PEM encoded.
	CaCert *string `pulumi:"caCert"`
	// Client certificate to provide to the Nomad server, must be x509 PEM encoded.
	ClientCert *string `pulumi:"clientCert"`
	// Client certificate key to provide to the Nomad server, must be x509 PEM encoded.
	// Conflicts with `clientKeyWo`.
	ClientKey *string `pulumi:"clientKey"`
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only client key used for Nomad's TLS communication, must be x509 PEM encoded and if this is set you need to also set client_cert.
	ClientKeyWo *string `pulumi:"clientKeyWo"`
	// Version counter for the write-only client key. This must be incremented
	// each time the `clientKeyWo` value is changed to trigger an update. Required when using `clientKeyWo`.
	ClientKeyWoVersion *int `pulumi:"clientKeyWoVersion"`
	// Default lease duration for secrets in seconds.
	DefaultLeaseTtlSeconds *int `pulumi:"defaultLeaseTtlSeconds"`
	// List of headers to allow and pass from the request to the plugin
	DelegatedAuthAccessors []string `pulumi:"delegatedAuthAccessors"`
	// Human-friendly description of the mount for the backend.
	Description *string `pulumi:"description"`
	// If set, opts out of mount migration on path updates.
	// See here for more info on [Mount Migration](https://www.vaultproject.io/docs/concepts/mount-migration)
	DisableRemount *bool `pulumi:"disableRemount"`
	// Enable the secrets engine to access Vault's external entropy source
	ExternalEntropyAccess *bool `pulumi:"externalEntropyAccess"`
	// If set to true, disables caching.
	ForceNoCache *bool `pulumi:"forceNoCache"`
	// The key to use for signing plugin workload identity tokens
	IdentityTokenKey *string `pulumi:"identityTokenKey"`
	// Specifies whether to show this mount in the UI-specific listing endpoint
	ListingVisibility *string `pulumi:"listingVisibility"`
	// Mark the secrets engine as local-only. Local engines are not replicated or removed by replication. Tolerance duration to use when checking the last rotation time.
	Local *bool `pulumi:"local"`
	// Maximum possible lease duration for secrets in seconds.
	MaxLeaseTtlSeconds *int `pulumi:"maxLeaseTtlSeconds"`
	// Specifies the maximum length to use for the name of the Nomad token
	// generated with Generate Credential. If omitted, 0 is used and ignored, defaulting to the max value allowed
	// by the Nomad version.
	MaxTokenNameLength *int `pulumi:"maxTokenNameLength"`
	// Maximum possible lease duration for secrets in seconds.
	MaxTtl *int `pulumi:"maxTtl"`
	// The namespace to provision the resource in.
	// The value should not contain leading or trailing forward slashes.
	// The `namespace` is always relative to the provider's configured [namespace](https://www.terraform.io/docs/providers/vault/index.html#namespace).
	// *Available only for Vault Enterprise*.
	Namespace *string `pulumi:"namespace"`
	// Specifies mount type specific options that are passed to the backend
	Options map[string]string `pulumi:"options"`
	// List of headers to allow and pass from the request to the plugin
	PassthroughRequestHeaders []string `pulumi:"passthroughRequestHeaders"`
	// Specifies the semantic version of the plugin to use, e.g. 'v1.0.0'
	PluginVersion *string `pulumi:"pluginVersion"`
	// Enable seal wrapping for the mount, causing values stored by the mount to be wrapped by the seal's encryption capability
	SealWrap *bool `pulumi:"sealWrap"`
	// Specifies the Nomad Management token to use. Conflicts with `tokenWo`.
	Token *string `pulumi:"token"`
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only Nomad Management token to use.
	TokenWo *string `pulumi:"tokenWo"`
	// Version counter for the write-only token. This must be incremented each time
	// the `tokenWo` value is changed to trigger an update. Required when using `tokenWo`.
	TokenWoVersion *int `pulumi:"tokenWoVersion"`
	// Specifies the ttl of the lease for the generated token.
	Ttl *int `pulumi:"ttl"`
}

// The set of arguments for constructing a NomadSecretBackend resource.
type NomadSecretBackendArgs struct {
	// Specifies the address of the Nomad instance, provided
	// as "protocol://host:port" like "http://127.0.0.1:4646".
	Address pulumi.StringPtrInput
	// List of managed key registry entry names that the mount in question is allowed to access
	AllowedManagedKeys pulumi.StringArrayInput
	// List of headers to allow and pass from the request to the plugin
	AllowedResponseHeaders pulumi.StringArrayInput
	// Specifies the list of keys that will not be HMAC'd by audit devices in the request data object.
	AuditNonHmacRequestKeys pulumi.StringArrayInput
	// Specifies the list of keys that will not be HMAC'd by audit devices in the response data object.
	AuditNonHmacResponseKeys pulumi.StringArrayInput
	// The unique path this backend should be mounted at. Must
	// not begin or end with a `/`. Defaults to `nomad`.
	Backend pulumi.StringPtrInput
	// CA certificate to use when verifying the Nomad server certificate, must be
	// x509 PEM encoded.
	CaCert pulumi.StringPtrInput
	// Client certificate to provide to the Nomad server, must be x509 PEM encoded.
	ClientCert pulumi.StringPtrInput
	// Client certificate key to provide to the Nomad server, must be x509 PEM encoded.
	// Conflicts with `clientKeyWo`.
	ClientKey pulumi.StringPtrInput
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only client key used for Nomad's TLS communication, must be x509 PEM encoded and if this is set you need to also set client_cert.
	ClientKeyWo pulumi.StringPtrInput
	// Version counter for the write-only client key. This must be incremented
	// each time the `clientKeyWo` value is changed to trigger an update. Required when using `clientKeyWo`.
	ClientKeyWoVersion pulumi.IntPtrInput
	// Default lease duration for secrets in seconds.
	DefaultLeaseTtlSeconds pulumi.IntPtrInput
	// List of headers to allow and pass from the request to the plugin
	DelegatedAuthAccessors pulumi.StringArrayInput
	// Human-friendly description of the mount for the backend.
	Description pulumi.StringPtrInput
	// If set, opts out of mount migration on path updates.
	// See here for more info on [Mount Migration](https://www.vaultproject.io/docs/concepts/mount-migration)
	DisableRemount pulumi.BoolPtrInput
	// Enable the secrets engine to access Vault's external entropy source
	ExternalEntropyAccess pulumi.BoolPtrInput
	// If set to true, disables caching.
	ForceNoCache pulumi.BoolPtrInput
	// The key to use for signing plugin workload identity tokens
	IdentityTokenKey pulumi.StringPtrInput
	// Specifies whether to show this mount in the UI-specific listing endpoint
	ListingVisibility pulumi.StringPtrInput
	// Mark the secrets engine as local-only. Local engines are not replicated or removed by replication. Tolerance duration to use when checking the last rotation time.
	Local pulumi.BoolPtrInput
	// Maximum possible lease duration for secrets in seconds.
	MaxLeaseTtlSeconds pulumi.IntPtrInput
	// Specifies the maximum length to use for the name of the Nomad token
	// generated with Generate Credential. If omitted, 0 is used and ignored, defaulting to the max value allowed
	// by the Nomad version.
	MaxTokenNameLength pulumi.IntPtrInput
	// Maximum possible lease duration for secrets in seconds.
	MaxTtl pulumi.IntPtrInput
	// The namespace to provision the resource in.
	// The value should not contain leading or trailing forward slashes.
	// The `namespace` is always relative to the provider's configured [namespace](https://www.terraform.io/docs/providers/vault/index.html#namespace).
	// *Available only for Vault Enterprise*.
	Namespace pulumi.StringPtrInput
	// Specifies mount type specific options that are passed to the backend
	Options pulumi.StringMapInput
	// List of headers to allow and pass from the request to the plugin
	PassthroughRequestHeaders pulumi.StringArrayInput
	// Specifies the semantic version of the plugin to use, e.g. 'v1.0.0'
	PluginVersion pulumi.StringPtrInput
	// Enable seal wrapping for the mount, causing values stored by the mount to be wrapped by the seal's encryption capability
	SealWrap pulumi.BoolPtrInput
	// Specifies the Nomad Management token to use. Conflicts with `tokenWo`.
	Token pulumi.StringPtrInput
	// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
	// Write-only Nomad Management token to use.
	TokenWo pulumi.StringPtrInput
	// Version counter for the write-only token. This must be incremented each time
	// the `tokenWo` value is changed to trigger an update. Required when using `tokenWo`.
	TokenWoVersion pulumi.IntPtrInput
	// Specifies the ttl of the lease for the generated token.
	Ttl pulumi.IntPtrInput
}

func (NomadSecretBackendArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*nomadSecretBackendArgs)(nil)).Elem()
}

type NomadSecretBackendInput interface {
	pulumi.Input

	ToNomadSecretBackendOutput() NomadSecretBackendOutput
	ToNomadSecretBackendOutputWithContext(ctx context.Context) NomadSecretBackendOutput
}

func (*NomadSecretBackend) ElementType() reflect.Type {
	return reflect.TypeOf((**NomadSecretBackend)(nil)).Elem()
}

func (i *NomadSecretBackend) ToNomadSecretBackendOutput() NomadSecretBackendOutput {
	return i.ToNomadSecretBackendOutputWithContext(context.Background())
}

func (i *NomadSecretBackend) ToNomadSecretBackendOutputWithContext(ctx context.Context) NomadSecretBackendOutput {
	return pulumi.ToOutputWithContext(ctx, i).(NomadSecretBackendOutput)
}

// NomadSecretBackendArrayInput is an input type that accepts NomadSecretBackendArray and NomadSecretBackendArrayOutput values.
// You can construct a concrete instance of `NomadSecretBackendArrayInput` via:
//
//	NomadSecretBackendArray{ NomadSecretBackendArgs{...} }
type NomadSecretBackendArrayInput interface {
	pulumi.Input

	ToNomadSecretBackendArrayOutput() NomadSecretBackendArrayOutput
	ToNomadSecretBackendArrayOutputWithContext(context.Context) NomadSecretBackendArrayOutput
}

type NomadSecretBackendArray []NomadSecretBackendInput

func (NomadSecretBackendArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*NomadSecretBackend)(nil)).Elem()
}

func (i NomadSecretBackendArray) ToNomadSecretBackendArrayOutput() NomadSecretBackendArrayOutput {
	return i.ToNomadSecretBackendArrayOutputWithContext(context.Background())
}

func (i NomadSecretBackendArray) ToNomadSecretBackendArrayOutputWithContext(ctx context.Context) NomadSecretBackendArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(NomadSecretBackendArrayOutput)
}

// NomadSecretBackendMapInput is an input type that accepts NomadSecretBackendMap and NomadSecretBackendMapOutput values.
// You can construct a concrete instance of `NomadSecretBackendMapInput` via:
//
//	NomadSecretBackendMap{ "key": NomadSecretBackendArgs{...} }
type NomadSecretBackendMapInput interface {
	pulumi.Input

	ToNomadSecretBackendMapOutput() NomadSecretBackendMapOutput
	ToNomadSecretBackendMapOutputWithContext(context.Context) NomadSecretBackendMapOutput
}

type NomadSecretBackendMap map[string]NomadSecretBackendInput

func (NomadSecretBackendMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*NomadSecretBackend)(nil)).Elem()
}

func (i NomadSecretBackendMap) ToNomadSecretBackendMapOutput() NomadSecretBackendMapOutput {
	return i.ToNomadSecretBackendMapOutputWithContext(context.Background())
}

func (i NomadSecretBackendMap) ToNomadSecretBackendMapOutputWithContext(ctx context.Context) NomadSecretBackendMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(NomadSecretBackendMapOutput)
}

type NomadSecretBackendOutput struct{ *pulumi.OutputState }

func (NomadSecretBackendOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**NomadSecretBackend)(nil)).Elem()
}

func (o NomadSecretBackendOutput) ToNomadSecretBackendOutput() NomadSecretBackendOutput {
	return o
}

func (o NomadSecretBackendOutput) ToNomadSecretBackendOutputWithContext(ctx context.Context) NomadSecretBackendOutput {
	return o
}

// Accessor of the mount
func (o NomadSecretBackendOutput) Accessor() pulumi.StringOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringOutput { return v.Accessor }).(pulumi.StringOutput)
}

// Specifies the address of the Nomad instance, provided
// as "protocol://host:port" like "http://127.0.0.1:4646".
func (o NomadSecretBackendOutput) Address() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.Address }).(pulumi.StringPtrOutput)
}

// List of managed key registry entry names that the mount in question is allowed to access
func (o NomadSecretBackendOutput) AllowedManagedKeys() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringArrayOutput { return v.AllowedManagedKeys }).(pulumi.StringArrayOutput)
}

// List of headers to allow and pass from the request to the plugin
func (o NomadSecretBackendOutput) AllowedResponseHeaders() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringArrayOutput { return v.AllowedResponseHeaders }).(pulumi.StringArrayOutput)
}

// Specifies the list of keys that will not be HMAC'd by audit devices in the request data object.
func (o NomadSecretBackendOutput) AuditNonHmacRequestKeys() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringArrayOutput { return v.AuditNonHmacRequestKeys }).(pulumi.StringArrayOutput)
}

// Specifies the list of keys that will not be HMAC'd by audit devices in the response data object.
func (o NomadSecretBackendOutput) AuditNonHmacResponseKeys() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringArrayOutput { return v.AuditNonHmacResponseKeys }).(pulumi.StringArrayOutput)
}

// The unique path this backend should be mounted at. Must
// not begin or end with a `/`. Defaults to `nomad`.
func (o NomadSecretBackendOutput) Backend() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.Backend }).(pulumi.StringPtrOutput)
}

// CA certificate to use when verifying the Nomad server certificate, must be
// x509 PEM encoded.
func (o NomadSecretBackendOutput) CaCert() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.CaCert }).(pulumi.StringPtrOutput)
}

// Client certificate to provide to the Nomad server, must be x509 PEM encoded.
func (o NomadSecretBackendOutput) ClientCert() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.ClientCert }).(pulumi.StringPtrOutput)
}

// Client certificate key to provide to the Nomad server, must be x509 PEM encoded.
// Conflicts with `clientKeyWo`.
func (o NomadSecretBackendOutput) ClientKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.ClientKey }).(pulumi.StringPtrOutput)
}

// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
// Write-only client key used for Nomad's TLS communication, must be x509 PEM encoded and if this is set you need to also set client_cert.
func (o NomadSecretBackendOutput) ClientKeyWo() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.ClientKeyWo }).(pulumi.StringPtrOutput)
}

// Version counter for the write-only client key. This must be incremented
// each time the `clientKeyWo` value is changed to trigger an update. Required when using `clientKeyWo`.
func (o NomadSecretBackendOutput) ClientKeyWoVersion() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.IntPtrOutput { return v.ClientKeyWoVersion }).(pulumi.IntPtrOutput)
}

// Default lease duration for secrets in seconds.
func (o NomadSecretBackendOutput) DefaultLeaseTtlSeconds() pulumi.IntOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.IntOutput { return v.DefaultLeaseTtlSeconds }).(pulumi.IntOutput)
}

// List of headers to allow and pass from the request to the plugin
func (o NomadSecretBackendOutput) DelegatedAuthAccessors() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringArrayOutput { return v.DelegatedAuthAccessors }).(pulumi.StringArrayOutput)
}

// Human-friendly description of the mount for the backend.
func (o NomadSecretBackendOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// If set, opts out of mount migration on path updates.
// See here for more info on [Mount Migration](https://www.vaultproject.io/docs/concepts/mount-migration)
func (o NomadSecretBackendOutput) DisableRemount() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.BoolPtrOutput { return v.DisableRemount }).(pulumi.BoolPtrOutput)
}

// Enable the secrets engine to access Vault's external entropy source
func (o NomadSecretBackendOutput) ExternalEntropyAccess() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.BoolPtrOutput { return v.ExternalEntropyAccess }).(pulumi.BoolPtrOutput)
}

// If set to true, disables caching.
func (o NomadSecretBackendOutput) ForceNoCache() pulumi.BoolOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.BoolOutput { return v.ForceNoCache }).(pulumi.BoolOutput)
}

// The key to use for signing plugin workload identity tokens
func (o NomadSecretBackendOutput) IdentityTokenKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.IdentityTokenKey }).(pulumi.StringPtrOutput)
}

// Specifies whether to show this mount in the UI-specific listing endpoint
func (o NomadSecretBackendOutput) ListingVisibility() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.ListingVisibility }).(pulumi.StringPtrOutput)
}

// Mark the secrets engine as local-only. Local engines are not replicated or removed by replication. Tolerance duration to use when checking the last rotation time.
func (o NomadSecretBackendOutput) Local() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.BoolPtrOutput { return v.Local }).(pulumi.BoolPtrOutput)
}

// Maximum possible lease duration for secrets in seconds.
func (o NomadSecretBackendOutput) MaxLeaseTtlSeconds() pulumi.IntOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.IntOutput { return v.MaxLeaseTtlSeconds }).(pulumi.IntOutput)
}

// Specifies the maximum length to use for the name of the Nomad token
// generated with Generate Credential. If omitted, 0 is used and ignored, defaulting to the max value allowed
// by the Nomad version.
func (o NomadSecretBackendOutput) MaxTokenNameLength() pulumi.IntOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.IntOutput { return v.MaxTokenNameLength }).(pulumi.IntOutput)
}

// Maximum possible lease duration for secrets in seconds.
func (o NomadSecretBackendOutput) MaxTtl() pulumi.IntOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.IntOutput { return v.MaxTtl }).(pulumi.IntOutput)
}

// The namespace to provision the resource in.
// The value should not contain leading or trailing forward slashes.
// The `namespace` is always relative to the provider's configured [namespace](https://www.terraform.io/docs/providers/vault/index.html#namespace).
// *Available only for Vault Enterprise*.
func (o NomadSecretBackendOutput) Namespace() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.Namespace }).(pulumi.StringPtrOutput)
}

// Specifies mount type specific options that are passed to the backend
func (o NomadSecretBackendOutput) Options() pulumi.StringMapOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringMapOutput { return v.Options }).(pulumi.StringMapOutput)
}

// List of headers to allow and pass from the request to the plugin
func (o NomadSecretBackendOutput) PassthroughRequestHeaders() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringArrayOutput { return v.PassthroughRequestHeaders }).(pulumi.StringArrayOutput)
}

// Specifies the semantic version of the plugin to use, e.g. 'v1.0.0'
func (o NomadSecretBackendOutput) PluginVersion() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.PluginVersion }).(pulumi.StringPtrOutput)
}

// Enable seal wrapping for the mount, causing values stored by the mount to be wrapped by the seal's encryption capability
func (o NomadSecretBackendOutput) SealWrap() pulumi.BoolOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.BoolOutput { return v.SealWrap }).(pulumi.BoolOutput)
}

// Specifies the Nomad Management token to use. Conflicts with `tokenWo`.
func (o NomadSecretBackendOutput) Token() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.Token }).(pulumi.StringPtrOutput)
}

// **NOTE:** This field is write-only and its value will not be updated in state as part of read operations.
// Write-only Nomad Management token to use.
func (o NomadSecretBackendOutput) TokenWo() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.StringPtrOutput { return v.TokenWo }).(pulumi.StringPtrOutput)
}

// Version counter for the write-only token. This must be incremented each time
// the `tokenWo` value is changed to trigger an update. Required when using `tokenWo`.
func (o NomadSecretBackendOutput) TokenWoVersion() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.IntPtrOutput { return v.TokenWoVersion }).(pulumi.IntPtrOutput)
}

// Specifies the ttl of the lease for the generated token.
func (o NomadSecretBackendOutput) Ttl() pulumi.IntOutput {
	return o.ApplyT(func(v *NomadSecretBackend) pulumi.IntOutput { return v.Ttl }).(pulumi.IntOutput)
}

type NomadSecretBackendArrayOutput struct{ *pulumi.OutputState }

func (NomadSecretBackendArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*NomadSecretBackend)(nil)).Elem()
}

func (o NomadSecretBackendArrayOutput) ToNomadSecretBackendArrayOutput() NomadSecretBackendArrayOutput {
	return o
}

func (o NomadSecretBackendArrayOutput) ToNomadSecretBackendArrayOutputWithContext(ctx context.Context) NomadSecretBackendArrayOutput {
	return o
}

func (o NomadSecretBackendArrayOutput) Index(i pulumi.IntInput) NomadSecretBackendOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *NomadSecretBackend {
		return vs[0].([]*NomadSecretBackend)[vs[1].(int)]
	}).(NomadSecretBackendOutput)
}

type NomadSecretBackendMapOutput struct{ *pulumi.OutputState }

func (NomadSecretBackendMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*NomadSecretBackend)(nil)).Elem()
}

func (o NomadSecretBackendMapOutput) ToNomadSecretBackendMapOutput() NomadSecretBackendMapOutput {
	return o
}

func (o NomadSecretBackendMapOutput) ToNomadSecretBackendMapOutputWithContext(ctx context.Context) NomadSecretBackendMapOutput {
	return o
}

func (o NomadSecretBackendMapOutput) MapIndex(k pulumi.StringInput) NomadSecretBackendOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *NomadSecretBackend {
		return vs[0].(map[string]*NomadSecretBackend)[vs[1].(string)]
	}).(NomadSecretBackendOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*NomadSecretBackendInput)(nil)).Elem(), &NomadSecretBackend{})
	pulumi.RegisterInputType(reflect.TypeOf((*NomadSecretBackendArrayInput)(nil)).Elem(), NomadSecretBackendArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*NomadSecretBackendMapInput)(nil)).Elem(), NomadSecretBackendMap{})
	pulumi.RegisterOutputType(NomadSecretBackendOutput{})
	pulumi.RegisterOutputType(NomadSecretBackendArrayOutput{})
	pulumi.RegisterOutputType(NomadSecretBackendMapOutput{})
}
